# ğŸ”¥ å°çº¢ä¹¦çˆ†æ–‡å‘å¸ƒç³»ç»Ÿ - å®Œæ•´ä½¿ç”¨æŒ‡å—

## ğŸ“‹ ç³»ç»Ÿæ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„**å°çº¢ä¹¦çˆ†æ–‡è‡ªåŠ¨å‘å¸ƒç³»ç»Ÿ**ï¼ŒåŠŸèƒ½åŒ…æ‹¬ï¼š
- âœ… è‡ªåŠ¨ç”Ÿæˆçˆ†æ–‡å†…å®¹ï¼ˆCSV â†’ APIï¼‰
- âœ… ç§»åŠ¨ç«¯H5å±•ç¤ºç•Œé¢
- âœ… ä¸€é”®åˆ†äº«åˆ°å°çº¢ä¹¦ï¼ˆè‡ªåŠ¨å¡«å……ï¼‰
- âœ… äºŒç»´ç æ‰«ç è®¿é—®
- âœ… å›¾ç‰‡æœåŠ¡å™¨æ”¯æŒ

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ­¥éª¤1: å®‰è£…ä¾èµ–

```bash
pip install flask flask-cors pandas qrcode pillow
```

### æ­¥éª¤2: ç”Ÿæˆçˆ†æ–‡æ•°æ®

```bash
python convert_to_csv.py
```

è¿™ä¼šç”Ÿæˆ `output/xiaohongshu_posts_*.csv` æ–‡ä»¶

### æ­¥éª¤3: å¯åŠ¨åç«¯æœåŠ¡

```bash
python app_flask.py
```

æœåŠ¡å°†è¿è¡Œåœ¨: http://localhost:5000

### æ­¥éª¤4: ç”ŸæˆäºŒç»´ç 

```bash
python generate_qrcode.py
```

ç”Ÿæˆçš„äºŒç»´ç æ–‡ä»¶åœ¨ `output/` ç›®å½•

### æ­¥éª¤5: æ‰‹æœºæ‰«ç è®¿é—®

ç”¨æ‰‹æœºæ‰«æç”Ÿæˆçš„äºŒç»´ç ï¼Œå³å¯çœ‹åˆ°çˆ†æ–‡æ¸…å•

---

## ğŸ“± æ‰‹æœºç«¯ä½¿ç”¨æµç¨‹

### æ–¹å¼A: è‡ªåŠ¨å¡«å……å†…å®¹ï¼ˆéœ€è¦API Keyï¼‰

1. **æ‰‹æœºæ‰«ç **æ‰“å¼€H5é¡µé¢
2. **æµè§ˆçˆ†æ–‡**æ¸…å•
3. ç‚¹å‡»"ğŸ”¥ å‘å¸ƒåˆ°å°çº¢ä¹¦"æŒ‰é’®
4. **å°çº¢ä¹¦è‡ªåŠ¨æ‰“å¼€**ï¼Œå†…å®¹å·²å¡«å……
5. é€‰æ‹©å›¾ç‰‡ï¼Œç¡®è®¤å‘å¸ƒ

### æ–¹å¼B: æ‰‹åŠ¨å¤åˆ¶å‘å¸ƒï¼ˆæ— éœ€API Keyï¼‰

1. **æ‰‹æœºæ‰«ç **æ‰“å¼€H5é¡µé¢
2. ç‚¹å‡»"ğŸ‘€ é¢„è§ˆ"æŸ¥çœ‹å®Œæ•´å†…å®¹
3. **æ‰‹åŠ¨å¤åˆ¶**æ ‡é¢˜å’Œæ­£æ–‡
4. ç‚¹å‡»"ğŸ”¥ å‘å¸ƒ"æŒ‰é’®ï¼ˆè‡ªåŠ¨å”¤èµ·å°çº¢ä¹¦ï¼‰
5. **ç²˜è´´å†…å®¹**ï¼Œé€‰æ‹©å›¾ç‰‡ï¼Œå‘å¸ƒ

---

## ğŸ”‘ å°çº¢ä¹¦API Keyç”³è¯·

### ç”³è¯·åœ°å€
https://open.xiaohongshu.com/

### è¯¦ç»†æ­¥éª¤

1. **æ³¨å†Œ/ç™»å½•**
   - ä½¿ç”¨å°çº¢ä¹¦è´¦å·ç™»å½•
   - æˆ–æ‰‹æœºå·æ³¨å†Œ

2. **åˆ›å»ºåº”ç”¨**
   - è¿›å…¥"æ§åˆ¶å°"
   - ç‚¹å‡»"åˆ›å»ºåº”ç”¨"
   - å¡«å†™ä¿¡æ¯ï¼š
     ```
     åº”ç”¨åç§°: çˆ†æ–‡å‘å¸ƒåŠ©æ‰‹
     åº”ç”¨ç±»å‹: ç½‘é¡µåº”ç”¨ / H5åº”ç”¨
     åº”ç”¨æè¿°: å°çº¢ä¹¦çˆ†æ–‡ä¸€é”®å‘å¸ƒå·¥å…·
     æˆæƒå›è°ƒåŸŸå: localhostï¼ˆæµ‹è¯•ï¼‰
     ```

3. **è·å–å‡­è¯**
   - åˆ›å»ºæˆåŠŸåè·å¾—ï¼š
     - `App Key`
     - `App Secret`

4. **é…ç½®ç¯å¢ƒå˜é‡**

   **Windows:**
   ```bash
   set XHS_APP_KEY=your_app_key_here
   set XHS_APP_SECRET=your_app_secret_here
   ```

   **Linux/Mac:**
   ```bash
   export XHS_APP_KEY=your_app_key_here
   export XHS_APP_SECRET=your_app_secret_here
   ```

5. **é‡å¯åç«¯æœåŠ¡**
   ```bash
   python app_flask.py
   ```

---

## ğŸ–¼ï¸  å›¾ç‰‡æœåŠ¡å™¨é…ç½®

### æœ¬åœ°å›¾ç‰‡æœåŠ¡å™¨

#### 1. åˆå§‹åŒ–å›¾ç‰‡ç›®å½•
```bash
python setup_images.py
```

#### 2. æ·»åŠ å›¾ç‰‡
å°†å›¾ç‰‡å¤åˆ¶åˆ° `static/images/` ç›®å½•

#### 3. è®¿é—®å›¾ç‰‡
- æœ¬åœ°: `http://localhost:5000/static/images/your-image.jpg`

### å…¬ç½‘å›¾ç‰‡æœåŠ¡å™¨ï¼ˆå°çº¢ä¹¦åˆ†äº«éœ€è¦ï¼‰

#### ä½¿ç”¨ngrokå†…ç½‘ç©¿é€

1. **ä¸‹è½½ngrok**
   - è®¿é—®: https://ngrok.com/
   - æ³¨å†Œå¹¶ä¸‹è½½

2. **è¿è¡Œngrok**
   ```bash
   ngrok http 5000
   ```

3. **è·å–å…¬ç½‘URL**
   ```
   Forwarding: https://abc123.ngrok.io -> http://localhost:5000
   ```

4. **æ›´æ–°å›¾ç‰‡URL**
   ```
   åŸURL: http://localhost:5000/static/images/image.jpg
   æ–°URL: https://abc123.ngrok.io/static/images/image.jpg
   ```

#### å…¶ä»–å†…ç½‘ç©¿é€å·¥å…·
- **frp**: https://github.com/fatedier/frp
- **cpolar**: https://www.cpolar.com/ (å›½å†…é€Ÿåº¦å¿«)
- **èŠ±ç”Ÿå£³**: https://hsk.oray.com/

---

## ğŸ“‚ é¡¹ç›®æ–‡ä»¶ç»“æ„

```
topicgenerater/
â”œâ”€â”€ app_flask.py              # åç«¯APIæœåŠ¡
â”œâ”€â”€ h5/
â”‚   â””â”€â”€ index.html            # å‰ç«¯H5é¡µé¢
â”œâ”€â”€ static/
â”‚   â””â”€â”€ images/               # å›¾ç‰‡æœåŠ¡å™¨ç›®å½•
â”œâ”€â”€ output/
â”‚   â”œâ”€â”€ xiaohongshu_posts_*.csv      # çˆ†æ–‡æ•°æ®
â”‚   â”œâ”€â”€ hot_topics_*.csv              # çƒ­ç‚¹è¯é¢˜
â”‚   â””â”€â”€ xiaohongshu_qrcode_*.png      # äºŒç»´ç 
â”œâ”€â”€ convert_to_csv.py         # CSVè½¬æ¢å·¥å…·
â”œâ”€â”€ generate_qrcode.py        # äºŒç»´ç ç”Ÿæˆå·¥å…·
â”œâ”€â”€ setup_images.py           # å›¾ç‰‡æœåŠ¡å™¨é…ç½®
â””â”€â”€ å°çº¢ä¹¦å‘å¸ƒç³»ç»Ÿä½¿ç”¨æŒ‡å—.md      # æœ¬æ–‡æ¡£
```

---

## ğŸ”§ APIæ¥å£æ–‡æ¡£

### 1. è·å–çˆ†æ–‡åˆ—è¡¨
```
GET /api/posts
```

**å“åº”ç¤ºä¾‹:**
```json
{
  "status": "success",
  "data": {
    "total": 25,
    "posts": [
      {
        "id": 1,
        "title": "éœ‡æƒŠæ•°å­¦ç•Œï¼AIè‡ªåŠ¨è§£å†³30å¹´éš¾é¢˜",
        "content": "ğŸš¨ éœ‡æƒŠæ•°å­¦ç•Œï¼...",
        "category": "AIæ•™è‚²"
      }
    ]
  }
}
```

### 2. è·å–å•æ¡çˆ†æ–‡
```
GET /api/posts/{id}
```

### 3. ç”Ÿæˆåˆ†äº«ç­¾å
```
POST /api/signature
```

**å“åº”ç¤ºä¾‹:**
```json
{
  "status": "success",
  "data": {
    "appKey": "xxx",
    "nonce": "xxx",
    "timestamp": 1234567890,
    "signature": "xxx"
  }
}
```

### 4. è·å–é…ç½®ä¿¡æ¯
```
GET /api/config
```

---

## âš ï¸  å¸¸è§é—®é¢˜

### Q1: å°çº¢ä¹¦JS SDKæ— æ³•ä½¿ç”¨ï¼Ÿ
**A:** å¯èƒ½åŸå› ï¼š
- åœ¨PCæµè§ˆå™¨æµ‹è¯•ï¼ˆéœ€è¦åœ¨æ‰‹æœºæµè§ˆå™¨ï¼‰
- æœªæ­£ç¡®é…ç½®API Key
- ç½‘ç»œé—®é¢˜

**è§£å†³æ–¹æ¡ˆ:** ä½¿ç”¨å¤‡é€‰æ–¹æ¡ˆï¼ˆå¤åˆ¶+æ‰‹åŠ¨ç²˜è´´ï¼‰

### Q2: å›¾ç‰‡æ— æ³•åœ¨å°çº¢ä¹¦æ˜¾ç¤ºï¼Ÿ
**A:** æ£€æŸ¥ï¼š
- å›¾ç‰‡URLå¿…é¡»æ˜¯å…¬ç½‘å¯è®¿é—®çš„
- ä½¿ç”¨HTTPSåè®®
- å›¾ç‰‡æ ¼å¼æ”¯æŒJPG/PNG

### Q3: äºŒç»´ç æ‰«æåæ— æ³•è®¿é—®ï¼Ÿ
**A:** æ£€æŸ¥ï¼š
- åç«¯æœåŠ¡æ˜¯å¦æ­£åœ¨è¿è¡Œ
- æ‰‹æœºå’Œç”µè„‘æ˜¯å¦åœ¨åŒä¸€ç½‘ç»œ
- å¦‚æœä½¿ç”¨ngrokï¼Œæ£€æŸ¥å…¬ç½‘URLæ˜¯å¦æ­£ç¡®

### Q4: å¦‚ä½•æ›´æ–°çˆ†æ–‡å†…å®¹ï¼Ÿ
**A:**
```bash
# 1. é‡æ–°ç”Ÿæˆçˆ†æ–‡CSV
python convert_to_csv.py

# 2. åˆ·æ–°H5é¡µé¢å³å¯çœ‹åˆ°æ–°å†…å®¹
```

---

## ğŸ¯ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

### ä½¿ç”¨äº‘æœåŠ¡å™¨

1. **è´­ä¹°äº‘æœåŠ¡å™¨**ï¼ˆé˜¿é‡Œäº‘/è…¾è®¯äº‘ï¼‰
2. **å®‰è£…Pythonç¯å¢ƒ**
3. **ä¸Šä¼ ä»£ç **
4. **é…ç½®åŸŸåå’ŒSSLè¯ä¹¦**
5. **ä½¿ç”¨systemdç®¡ç†æœåŠ¡**

### systemdé…ç½®ç¤ºä¾‹

```ini
[Unit]
Description=Xiaohongshu Publisher Service
After=network.target

[Service]
Type=simple
User=your_user
WorkingDirectory=/path/to/topicgenerater
ExecStart=/usr/bin/python3 app_flask.py
Restart=always

[Install]
WantedBy=multi-user.target
```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. Pythonç‰ˆæœ¬ >= 3.8
2. æ‰€æœ‰ä¾èµ–å·²å®‰è£…
3. CSVæ•°æ®æ–‡ä»¶å­˜åœ¨
4. ç«¯å£5000æœªè¢«å ç”¨

---

## ğŸ“„ è®¸å¯è¯

MIT License

---

**ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼ğŸ”¥**

**Sources:**
- [å°çº¢ä¹¦å¼€æ”¾å¹³å°](https://open.xiaohongshu.com/)
- [Vueæ¥å…¥å°çº¢ä¹¦åˆ†äº«JS SDK](https://blog.csdn.net/qq_53226045/article/details/144554833)
- [å°çº¢ä¹¦ä¸€é”®å‘å¸ƒç³»ç»Ÿ](https://juejin.cn/post/7552489208804491316)
