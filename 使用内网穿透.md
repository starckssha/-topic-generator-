# 🔧 使用内网穿透 - 让手机能扫码访问

## 问题
当前二维码指向 `http://localhost:5000`，手机无法访问。

## 解决方案：使用内网穿透

### 方法1: 使用ngrok（推荐）

#### 1. 下载ngrok
访问: https://ngrok.com/ 注册并下载

#### 2. 运行ngrok
```bash
ngrok http 5000
```

#### 3. 获取公网URL
会显示类似:
```
Forwarding: https://abc123.ngrok.io -> http://localhost:5000
```

#### 4. 更新配置
在 `app_flask.py` 中修改：
```python
# 在 manager.html 的 JavaScript 中
const API_BASE = 'https://abc123.ngrok.io';  # 使用你的ngrok URL
```

#### 5. 重新生成二维码
刷新PC管理页面，二维码会自动更新为新的公网URL。

---

### 方法2: 使用cpolar（国内访问快）

#### 1. 下载cpolar
访问: https://www.cpolar.com/

#### 2. 运行cpolar
```bash
cpolar http 5000
```

#### 3. 获取公网URL
会显示一个公网地址

---

### 方法3: 使用局域网IP（仅限同一WiFi）

#### 1. 查看电脑IP
```bash
ipconfig
```
找到 IPv4 地址，例如: `192.168.31.8`

#### 2. 修改模板
在 `templates/manager.html` 中：
```javascript
const API_BASE = 'http://192.168.31.8:5000';  // 改成你的IP
```

---

## 快速测试

### 使用当前局域网IP
1. 查看Flask启动信息中的IP：
   ```
   Running on http://192.168.31.8:5000
   ```

2. 修改 `templates/manager.html` 第266行：
   ```javascript
   const API_BASE = 'http://192.168.31.8:5000';
   ```

3. 刷新浏览器页面

4. 手机和电脑连接同一WiFi，扫码即可访问

---

## 推荐方案

**临时测试**: 使用局域网IP
**长期使用**: 使用ngrok或其他内网穿透工具

需要我帮您配置哪种方案？
